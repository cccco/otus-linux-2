#  Архитектура сетей.  

```
# Дано
https://github.com/erlong15/otus-linux/tree/network
(ветка network)

Vagrantfile с начальным построением сети
- inetRouter
- centralRouter
- centralServer

тестировалось на virtualbox

# Планируемая архитектура
построить следующую архитектуру

Сеть office1
- 192.168.2.0/26 - dev
- 192.168.2.64/26 - test servers
- 192.168.2.128/26 - managers
- 192.168.2.192/26 - office hardware

Сеть office2
- 192.168.1.0/25 - dev
- 192.168.1.128/26 - test servers
- 192.168.1.192/26 - office hardware


Сеть central
- 192.168.0.0/28 - directors
- 192.168.0.32/28 - office hardware
- 192.168.0.64/26 - wifi
```
```
Office1 ---\
-----> Central --IRouter --> internet
Office2----/
```
```
Итого должны получится следующие сервера
- inetRouter
- centralRouter
- office1Router
- office2Router
- centralServer
- office1Server
- office2Server

# Теоретическая часть
- Найти свободные подсети
- Посчитать сколько узлов в каждой подсети, включая свободные
- Указать broadcast адрес для каждой подсети
- проверить нет ли ошибок при разбиении

# Практическая часть
- Соединить офисы в сеть согласно схеме и настроить роутинг
- Все сервера и роутеры должны ходить в инет черз inetRouter
- Все сервера должны видеть друг друга
- у всех новых серверов отключить дефолт на нат (eth0), который вагрант поднимает для связи
- при нехватке сетевых интервейсов добавить по несколько адресов на интерфейс
```

## В процессе сделано:

### Теоретическая часть

 - Расчет по всем адресам<br/><br/>
 ![Image 1](https://raw.githubusercontent.com/perhamm/otus-linux/master/Ex18/screenshots/net.PNG) <br/><br/>
Свободная подсеть 192.168.0.16/28 (свободных узлов 14, широковещательный адрес 192.168.0.31)<br/>
Свободная подсеть 192.168.0.48/28 (свободных узлов 14, широковещательный адрес 192.168.0.63)<br/>
Свободная подсеть 192.168.0.128/25 (свободных узлов 126, широковещательный адрес 192.168.0.255)<br/>
Ошибок при разбиении подсетей не увидел.<br/>

### Практическая часть
- Посчитал странным что в офисах только 1 сервер и нет клиентов, и добавил кучу клиентов :) <br/>Сервера разместил в подсеть office hardware
 ![Image 2](https://raw.githubusercontent.com/perhamm/otus-linux/master/Ex18/screenshots/net-ip.PNG)
- Все ip связанны  за счет добавления маршрутов



## Как запустить:
 - git clone https://github.com/perhamm/otus-linux && cd otus-linux/Ex18 && vagrant up

## Как проверить работоспособность:
 - С любой машины проверить интернет и пинг до адресов из таблички выше
<br>

---
